datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Job {
  applicationDeadline DateTime?
  applications        Application[]
  company             Company?      @relation(fields: [companyId], references: [id])
  companyId           String?
  createdAt           DateTime      @default(now())
  id                  String        @id @default(cuid())
  jobDescription      String?
  jobTitle            String?
  updatedAt           DateTime      @updatedAt
}

model Company {
  companyDescription String?
  companyName        String?
  createdAt          DateTime @default(now())
  id                 String   @id @default(cuid())
  jobs               Job[]
  updatedAt          DateTime @updatedAt
  website            String?
}

model Application {
  applicationDate DateTime?
  createdAt       DateTime  @default(now())
  id              String    @id @default(cuid())
  job             Job?      @relation(fields: [jobId], references: [id])
  jobId           String?
  resume          Resume?   @relation(fields: [resumeId], references: [id])
  resumeId        String?
  updatedAt       DateTime  @updatedAt
  user            User?     @relation(fields: [userId], references: [id])
  userId          String?
}

model Resume {
  applications Application[]
  createdAt    DateTime      @default(now())
  id           String        @id @default(cuid())
  resumeFile   Json?
  updatedAt    DateTime      @updatedAt
  user         User?         @relation(fields: [userId], references: [id])
  userId       String?
}

model User {
  applications Application[]
  createdAt    DateTime      @default(now())
  email        String?       @unique
  firstName    String?
  id           String        @id @default(cuid())
  lastName     String?
  password     String
  resumes      Resume[]
  roles        Json
  updatedAt    DateTime      @updatedAt
  username     String        @unique
}
